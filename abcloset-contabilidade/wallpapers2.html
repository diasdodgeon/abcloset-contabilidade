<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modal Mockup Celular</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<style>
  .wallpaper-app {
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.85);
    color: white;
    display: flex;
    flex-direction: column;
    border-radius: 20px;
    overflow: hidden;
  }

  .wallpaper-header {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 10px;
    background: #111;
    position: relative;
  }

  .wallpaper-header h2 {
    font-size: 1.2em;
    margin: 0;
  }

  .back-btn {
    position: absolute;
    left: 10px;
    background: transparent;
    border: none;
    color: white;
    font-size: 1.5em;
    cursor: pointer;
  }

  .wallpaper-gallery {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 10px;
    padding: 10px;
    overflow-y: auto;
    flex-grow: 1;
  }

  /* --- Itens da galeria --- */
  .wallpaper-gallery img {
    width: 100%;
    border-radius: 12px;
    transition: transform 0.25s, box-shadow 0.25s;
    cursor: pointer;
    position: relative;
    border: 2px solid transparent;
  }

  .wallpaper-gallery img:hover {
    transform: scale(1.05);
    box-shadow: 0 0 10px rgba(255,255,255,0.3);
  }

  /* --- Destaque do wallpaper selecionado --- */
  .wallpaper-gallery img.selected {
    border: 3px solid #0078ff;
    transform: scale(1.05);
    transition: all 0.25s ease;
    position: relative;
  }

  /* --- Alfinete üìå animado --- */
  .wallpaper-gallery img::before {
    content: "üìå";
    position: absolute;
    top: -12px;
    left: 50%;
    transform: translateX(-50%) translateY(0) scale(0);
    font-size: 22px;
    filter: drop-shadow(0 0 3px black);
    z-index: 10;
    opacity: 0;
    transition: all 0.3s ease;
  }

  /* --- Quando o wallpaper √© selecionado --- */
  .wallpaper-gallery img.selected::before {
    transform: translateX(-50%) translateY(-5px) scale(1);
    opacity: 1;
    animation: pinPop 0.3s ease forwards;
  }

  /* --- Anima√ß√£o de entrada (pulo do alfinete) --- */
  @keyframes pinPop {
    0% {
      transform: translateX(-50%) translateY(-10px) scale(0);
      opacity: 0;
    }
    60% {
      transform: translateX(-50%) translateY(-15px) scale(1.2);
      opacity: 1;
    }
    100% {
      transform: translateX(-50%) translateY(-5px) scale(1);
      opacity: 1;
    }
  }
</style>

  <div id="wallpaper-app" class="wallpaper-app">
    <div class="wallpaper-header">
      <button id="backBtn" class="back-btn">‚Üê</button>
      <h2>Pap√©is de Parede</h2>
    </div>

    <div class="wallpaper-gallery" id="wallpaper-gallery">
      <!-- As imagens ser√£o carregadas automaticamente -->
    </div>
  </div>

<script>
  const gallery = document.getElementById('wallpaper-gallery');
  const phoneScreen = document.querySelector('.phone-screen'); // ajuste se o nome for diferente
  const backBtn = document.getElementById('backBtn');

  // Fun√ß√£o para aplicar o papel de parede
  function applyWallpaper(url, element) {
    if (phoneScreen) {
      phoneScreen.style.backgroundImage = `url('${url}')`;
      phoneScreen.style.backgroundSize = 'cover';
      phoneScreen.style.backgroundPosition = 'center';
      localStorage.setItem('selectedWallpaper', url);
    }

    // Remove sele√ß√£o anterior
    document.querySelectorAll('.wallpaper-gallery img').forEach(img => {
      img.classList.remove('selected');
    });

    // Marca o atual como selecionado
    element.classList.add('selected');
  }

  // Carregar papel salvo
  const saved = localStorage.getItem('selectedWallpaper');

  // Carregar lista de wallpapers do JSON
  fetch('wallpapers/index.json')
    .then(res => res.json())
    .then(images => {
      images.forEach(img => {
        const thumb = document.createElement('img');
        thumb.src = `wallpapers/${img}`;
        thumb.dataset.wall = `wallpapers/${img}`;
        thumb.alt = img;

        // Aplica sele√ß√£o se for o salvo
        if (saved && saved === thumb.dataset.wall) {
          thumb.classList.add('selected');
        }

        gallery.appendChild(thumb);
      });
    })
    .catch(err => console.error('Erro ao carregar wallpapers:', err));

  // Evento de clique para aplicar o papel
  gallery.addEventListener('click', e => {
    if (e.target.tagName === 'IMG') {
      applyWallpaper(e.target.dataset.wall, e.target);
    }
  });

  // Bot√£o de voltar (fecha o app e volta ao menu principal)
  backBtn.addEventListener('click', () => {
    document.getElementById('wallpaper-app').style.display = 'none';
    const mainMenu = document.getElementById('main-menu');
    if (mainMenu) mainMenu.style.display = 'flex';
  });
</script>
</body>
</html>
