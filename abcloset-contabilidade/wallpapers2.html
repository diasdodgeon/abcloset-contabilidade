<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Modal Mockup Celular - Wallpapers</title>
<style>
  /* --- App container --- */
  .wallpaper-app {
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.85);
    color: white;
    display: flex;
    flex-direction: column;
    border-radius: 20px;
    overflow: hidden;
  }

  /* --- Header --- */
  .wallpaper-header {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 10px;
    background: #111;
    position: relative;
  }

  .wallpaper-header h2 {
    font-size: 1.2em;
    margin: 0;
  }

  .back-btn {
    position: absolute;
    left: 10px;
    background: transparent;
    border: none;
    color: white;
    font-size: 1.5em;
    cursor: pointer;
  }

  /* --- Gallery grid --- */
  .wallpaper-gallery {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 10px;
    padding: 10px;
    overflow-y: auto;
    flex-grow: 1;
  }

  /* --- Container de cada wallpaper --- */
  .wallpaper-option {
    position: relative;
    cursor: pointer;
    border-radius: 12px;
    overflow: hidden;
    transition: transform 0.25s ease, box-shadow 0.25s ease;
  }

  .wallpaper-option img {
    width: 100%;
    display: block;
    border-radius: 12px;
  }

  .wallpaper-option:hover {
    transform: scale(1.05);
    box-shadow: 0 0 10px rgba(255,255,255,0.3);
  }

  /* --- Sele√ß√£o --- */
  .wallpaper-option.selected {
    border: 3px solid #0078ff;
    transform: scale(1.05);
  }

  /* --- Alfinete üìå animado --- */
  .wallpaper-option::before {
    content: "üìå";
    position: absolute;
    top: -18px;
    left: 50%;
    transform: translateX(-50%) translateY(0) scale(0);
    font-size: 22px;
    filter: drop-shadow(0 0 3px black);
    z-index: 10;
    opacity: 0;
    transition: all 0.3s ease;
  }

  .wallpaper-option.selected::before {
    transform: translateX(-50%) translateY(-5px) scale(1);
    opacity: 1;
    animation: pinPop 0.3s ease forwards;
  }

  @keyframes pinPop {
    0% { transform: translateX(-50%) translateY(-10px) scale(0); opacity:0; }
    60% { transform: translateX(-50%) translateY(-15px) scale(1.2); opacity:1; }
    100% { transform: translateX(-50%) translateY(-5px) scale(1); opacity:1; }
  }
</style>
</head>
<body>

<div id="wallpaper-app" class="wallpaper-app">
  <div class="wallpaper-header">
    <button id="backBtn" class="back-btn">‚Üê</button>
    <h2>Pap√©is de Parede</h2>
  </div>

  <div class="wallpaper-gallery" id="wallpaper-gallery">
    <!-- Wallpapers ser√£o inseridos dinamicamente -->
  </div>
</div>

<script>
  const gallery = document.getElementById('wallpaper-gallery');
  const phoneScreen = document.querySelector('.phone-screen'); // ajuste se seu mockup tiver outro nome
  const backBtn = document.getElementById('backBtn');

  // Fun√ß√£o para aplicar wallpaper
  function applyWallpaper(url, container) {
    if (phoneScreen) {
      phoneScreen.style.backgroundImage = `url('${url}')`;
      phoneScreen.style.backgroundSize = 'cover';
      phoneScreen.style.backgroundPosition = 'center';
      localStorage.setItem('selectedWallpaper', url);
    }

    // Remove sele√ß√£o anterior
    document.querySelectorAll('.wallpaper-option').forEach(opt => {
      opt.classList.remove('selected');
    });

    // Marca o container atual como selecionado
    container.classList.add('selected');
  }

  // Carregar wallpaper salvo
  const saved = localStorage.getItem('selectedWallpaper');

  // Carregar wallpapers do JSON
  fetch('wallpapers/index.json')
    .then(res => res.json())
    .then(images => {
      images.forEach(img => {
        const container = document.createElement('div');
        container.className = 'wallpaper-option';

        const thumb = document.createElement('img');
        thumb.src = `wallpapers/${img}`;
        thumb.dataset.wall = `wallpapers/${img}`;
        thumb.alt = img;

        container.appendChild(thumb);
        gallery.appendChild(container);

        // Aplica sele√ß√£o se for o salvo
        if (saved && saved === thumb.dataset.wall) {
          container.classList.add('selected');
          if (phoneScreen) {
            phoneScreen.style.backgroundImage = `url('${thumb.dataset.wall}')`;
            phoneScreen.style.backgroundSize = 'cover';
            phoneScreen.style.backgroundPosition = 'center';
          }
        }

        // Clique no container
        container.addEventListener('click', () => {
          applyWallpaper(thumb.dataset.wall, container);
        });
      });
    })
    .catch(err => console.error('Erro ao carregar wallpapers:', err));

  // Bot√£o de voltar
  backBtn.addEventListener('click', () => {
    document.getElementById('wallpaper-app').style.display = 'none';
    const mainMenu = document.getElementById('main-menu');
    if (mainMenu) mainMenu.style.display = 'flex';
  });
</script>

</body>
</html>

