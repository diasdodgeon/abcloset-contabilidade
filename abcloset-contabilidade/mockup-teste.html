<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modal Mockup Celular Avançado</title>
</head>
<body>
<style>
    /* Estilos do Modal (Overlay) */
    .modal-mockup {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0,0,0,0.5);
        backdrop-filter: blur(5px);
        align-items: center;
        justify-content: center;
    }

    /* Centraliza o conteúdo do modal */
    .modal-content {
        background-color: transparent;
        padding: 0;
        width: 90%;
        max-width: 350px;
        position: relative;
        border: none;
    }

    /* Estilos do Mockup de Celular */
    .phone-mockup {
        border: 10px solid #222;
        border-radius: 40px;
        box-shadow: 0 0 0 1px #444,
                    0 0 30px rgba(0, 0, 0, 0.5);
        background-color: #333;
        padding: 5px;
        position: relative;
        overflow: hidden;
    }

    /* Topo do Celular (notch) */
    .phone-top-bar-notch {
        height: 10px;
        width: 40%;
        background-color: #222;
        border-radius: 0 0 10px 10px;
        margin: 0 auto;
        position: relative;
        z-index: 2; /* Acima da barra de status */
    }

    /* A tela onde vai o conteúdo */
    .phone-screen {
        background-color: white;
        width: 100%;
        height: 680px;
        border-radius: 30px;
        padding: 0;
        box-sizing: border-box;
        overflow: hidden;
        position: relative;
        display: flex;
        flex-direction: column;
    }

    /* Estilos da Barra de Status Superior */
    .status-bar {
        height: 30px;
        background-color: black;
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0 15px;
        font-size: 14px;
        color: white;
        font-family: sans-serif;
        font-weight: bold;
        border-radius: 30px 30px 0 0;
        z-index: 3; /* Sempre visível e clicável */
        position: relative;
        cursor: pointer; /* Indica que é clicável */
        border-bottom: 0px solid #eee;
    }
    .status-bar .icons {
        font-size: 16px;
    }
    .status-bar .signal {
        font-size: 12px;
        margin-left: 5px;
    }

    /* 🆕 JANELA DESLIZANTE DE NOTIFICAÇÕES (O NOVO MENU) */
    .notification-drawer {
        position: absolute;
        top: -100%; /* Começa escondida acima da tela */
        left: 0;
        width: 100%;
        background-color: #f8f8f8;
        box-shadow: 0 5px 10px rgba(0,0,0,0.2);
        z-index: 10; /* Fica acima do conteúdo (video) */
        transition: top 0.3s ease-out; /* Transição para o efeito deslizante */
        padding: 10px;
        box-sizing: border-box;
    }

    /* Classe para mostrar o menu */
    .notification-drawer.open {
        top: 30px; /* Desliza para baixo, logo abaixo da barra de status (30px de altura) */
    }

    /* 🆕 Estilos para os Ícones de Atalho */
    .shortcut-icons {
        display: flex;
        justify-content: space-around;
        padding: 10px 0;
        border-bottom: 1px solid #ddd;
    }
    .shortcut-icons button {
        background: #eee;
        border: none;
        border-radius: 50%;
        width: 45px;
        height: 45px;
        font-size: 20px;
        cursor: pointer;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        transition: background 0.2s;
    }
    .shortcut-icons button:hover {
        background: #ddd;
    }

    /* 🆕 Estilos para a Lista de Vídeos/Notificações */
    .video-list-container {
        padding: 10px 0;
        max-height: 400px; /* Limite de altura para a lista */
        overflow-y: auto; /* Adiciona rolagem se a lista for longa */
    }
    .video-item {
        display: flex;
        align-items: center;
        margin-bottom: 15px;
        padding: 5px;
        background: white;
        border-radius: 8px;
        box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        cursor: pointer;
    }
    .video-item:hover {
        background: #f0f0f0;
    }
    .video-thumbnail {
        width: 80px;
        height: 45px; /* 16:9 ratio */
        background-color: #ccc;
        border-radius: 4px;
        margin-right: 10px;
        overflow: hidden;
        flex-shrink: 0; /* Não encolhe */
    }
    .video-thumbnail img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    .video-info {
        font-size: 12px;
        color: #333;
        flex-grow: 1;
    }
    .video-info strong {
        display: block;
        font-size: 14px;
        margin-bottom: 3px;
        line-height: 1.2;
    }
    .video-info span {
        color: #777;
    }


    /* Área de Conteúdo (Vídeo Principal) */
    .phone-content {
        flex-grow: 1;
        overflow-y: auto;
        padding: 0;
        position: relative;
    }
    /* 🆕 ESTILOS PARA GERENCIAR TELAS (VÍDEO VS MENU) */
    .content-screen {
        width: 100%;
        height: 100%;
        position: absolute; /* Permite que as telas fiquem sobrepostas */
        top: 0;
        left: 0;
        opacity: 0;
        transition: opacity 0.3s ease-in-out;
        pointer-events: none;
        background-color: #fff; /* Fundo padrão para o menu */
        padding: 0;
        box-sizing: border-box;
    }

    .content-screen.active-screen {
        opacity: 1;
        pointer-events: auto; /* Permite interação apenas na tela ativa */
        position: relative; /* Ajuste para o scrollbar aparecer corretamente */
    }

    /* 🆕 SEÇÃO DO MENU DE APPS */
    #menuScreen {
  
        display: flex;
        flex-direction: column;
        padding: 20px 10px;
        /* Garantir que o background preencha */
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
    }

    /* --- tema de celular, com apps --- */
    .phone-menu {
        display: flex;
        flex-wrap: wrap; /* Permite quebrar linha se houver muitos ícones */
        justify-content: start; /* Alinha os ícones à esquerda */
        gap: 5px; /* Espaço entre os ícones */
        width: 100%;
        background-color: transparent; /* Certifica que a área onde estão os ícones é transparente */
    }
    
    .app-icon {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        font-size: 32px; /* Ícone maior */
        color: #fff;
        width: 70px; /* Largura para cada item */
        cursor: pointer;
        transition: transform 0.2s;
    }

    /* Estilo do círculo/fundo do ícone */
    .app-icon > * {
        background: linear-gradient(135deg, #1e90ff, #0a3d91); /* Fundo com gradiente moderno */
        border-radius: 18px; /* Cantos mais arredondados */
        padding: 12px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        margin-bottom: 5px;
        width: 45px;
        height: 45px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .app-icon:hover {
        transform: scale(1.05);
    }

    .app-label {
        font-size: 11px;
        color: #f7f7f7;
        font-family: sans-serif;
        background: none; /* remove o fundo para o label */
        padding: 0;
        margin-top: 5px;
        height: auto;
        width: auto;
        box-shadow: none;
        color: white; /* Cor branca para melhor contraste */
        /*  NOVA SOMBRA PARA MELHORAR A LEGIBILIDADE */
        text-shadow: 0px 1px 3px rgba(0, 0, 0, 3);
    }

    video {
        object-fit: cover;
        width: 100%;
        height: 100%;
        display: block;
    }

    /* Estilos da Barra de Navegação Inferior (mantidos) */
    .nav-bar {
        height: 50px;
        background-color: #f0f0f0;
        display: flex;
        justify-content: space-around;
        align-items: center;
        border-radius: 0 0 30px 30px;
    }
    .nav-bar button {
        background: none;
        border: none;
        cursor: pointer;
        font-size: 24px;
        color: #555;
        padding: 5px;
    }
    .nav-bar .home-btn {
        width: 20px;
        height: 20px;
        border: 2px solid #555;
        border-radius: 50%;
        background-color: transparent;
        transition: background-color 0.1s;
    }
    .nav-bar button:active {
        color: #000;
    }
    .nav-bar .home-btn:active {
        background-color: #ccc;
    }

    /* 🎥 Botão flutuante de ajuda (mantido) */
    .btn-ajuda {
        position: fixed;
        bottom: 80px;
        right: 20px;
        font-size: 26px;
        background: #0a3d91;
        color: white;
        border: none;
        border-radius: 50%;
        width: 55px;
        height: 55px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        cursor: pointer;
        z-index: 1000;
        transition: transform 0.2s ease;
    }
    .btn-ajuda:hover {
        transform: scale(1.1);
    }
    /* 🆕 Estilo do Container e Puxador para Fechar */
    .drawer-handle-container {
        display: flex;
        justify-content: center;
        padding: 5px 0 10px; /* Mais padding abaixo do botão */
        background-color: #f8f8f8; /* Mantém a cor do drawer */
    }

    /* 🆕 Estilo para o ícone de notificação na lista (substituindo a thumbnail) */
    .video-thumbnail.notification-icon-circle {
        background-color: #ddd;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 20px;
    }
    /* Altera o estilo para o item de notificação */
    .video-item.notification-item {
        background: #eef; /* Fundo levemente azul para destacar que é uma notificação */
    }
    /* Garante que o item de notificação não tenha link (embora o JS use '#') */
    .video-item.notification-item:hover {
        background: #e0e0ff;
    }

    /* 🆕 ESTILOS DA CALCULADORA */
    #calculatorScreen {
        /* Define um fundo escuro específico para a tela do app */
        background-color: #111;
        padding: 10px; /* Espaçamento interno da tela */
    }

    #calc-container {
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
        background: #111;
        border-radius: 12px; /* Ajustado para se adequar melhor ao mockup */
        box-sizing: border-box;
        justify-content: space-between;
    }

    .calc-display {
        background: #222;
        color: #0f0;
        font-size: 2.2em;
        padding: 15px;
        border-radius: 8px;
        text-align: right;
        overflow: hidden;
        box-shadow: inset 0 0 8px #000;
        font-family: monospace; /* Fonte monoespaçada para display */
    }

    .calc-buttons {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        /* Calculadora precisa ser flexível, ajustamos a altura */
        height: 85%; 
        gap: 8px;
        margin-top: 10px;
    }

    .btn {
        background: #333;
        color: white;
        border: none;
        font-size: 1.4em;
        border-radius: 8px;
        transition: background 0.2s;
        /* Centraliza o texto/emoji do botão */
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 40px; 
    }

    .btn:hover {
        background: #555;
    }

    .btn.equal {
        background: #0a84ff;
        /* Ocupa 2 linhas */
        grid-row: span 2; 
    }

    .btn.equal:hover {
        background: #0c7ae8;
    }

    .btn.zero {
        /* Ocupa 2 colunas */
        grid-column: span 2;
    }

    .btn.clear {
        background: #e63946;
    }

    .btn.clear:hover {
        background: #d62828;
    }

        /* 🆕 ESTILOS DO WALLPAPER APP */
    #wallpaperScreen {
        background-color: #000;
        padding: 0; /* O app irá preencher a tela */
    }

    /* --- App container --- */
    .wallpaper-app {
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.85);
        color: white;
        display: flex;
        flex-direction: column;
        border-radius: 0; /* Remove o border-radius para preencher a tela */
        overflow: hidden;
    }

    /* --- Header --- */
    .wallpaper-header {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 15px 10px;
        background: #111;
        position: relative;
        flex-shrink: 0; /* Garante que o header não encolha */
    }

    .wallpaper-header h2 {
        font-size: 1.2em;
        margin: 0;
    }

    /* Corrigido: Estilos para o botão de voltar DENTRO do cabeçalho de um app */
    .wallpaper-header .back-btn {
        position: absolute;
        left: 10px;
        background: transparent;
        border: none;
        color: white;
        font-size: 1.5em;
        cursor: pointer;
    }
    /* O seletor .back-btn AGORA SÓ TEM OS ESTILOS DA BARRA DE NAVEGAÇÃO, que estão corretos. */

    /* --- Gallery grid --- */
    .wallpaper-gallery {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 10px;
        padding: 10px;
        overflow-y: auto;
        flex-grow: 1;
        overflow: auto;
        
    }

    /* --- Container de cada wallpaper --- */
    .wallpaper-option {
        position: relative;
        cursor: pointer;
        border-radius: 8px; /* Ajustado */
        overflow: hidden;
        transition: transform 0.25s ease, box-shadow 0.25s ease;
        box-shadow: 0 2px 5px rgba(0,0,0,0.5);
    }

    .wallpaper-option img {
        width: 100%;
        height: auto;
        min-height: 60px;
        display: block;
        border-radius: 8px; /* Ajustado */
    }

    .wallpaper-option:hover {
        transform: scale(1.05);
        box-shadow: 0 0 10px rgba(255,255,255,0.5);
    }

    /* --- Seleção --- */
    .wallpaper-option.selected {
        border: 3px solid #0078ff;
        transform: scale(1.05);
    }

    /* --- Alfinete 📌 animado (mantido) --- */
    .wallpaper-option::before {
        content: "📌";
        position: absolute;
        top: 5px; /* Ajuste para melhor visualização */
        right: 5px; /* Alinhar à direita */
        transform: translateX(0) scale(0);
        font-size: 28px;
        filter: drop-shadow(0 0 3px black);
        z-index: 100;
        opacity: 0;
        transition: all 0.3s ease;
    }

    .wallpaper-option.selected::before {
        transform: scale(1); /* Simplificado para evitar quebra de layout */
        opacity: 1;
        animation: pinPop 0.3s ease forwards;
    }

    /* Mantemos a animação, mas ajustamos os valores */
    @keyframes pinPop {
        0% { transform: scale(0); opacity:0; }
        60% { transform: scale(1.2); opacity:1; }
        100% { transform: scale(1); opacity:1; }
    }
</style>
    <button id="btn-ajuda" class="btn-ajuda">🙋</button>

    <div id="phoneModal" class="modal-mockup">
        
        <div class="modal-content">
            
            <div class="phone-mockup">
                <div class="phone-top-bar-notch"></div>
                
                <div class="phone-screen">
                    
                    <div class="status-bar" id="statusBar">
                        <div class="time" id="currentTime">10:47</div>
                        <div class="icons">
                            ⏰📬⚙️📆
                            <span class="signal">🔋📶</span>
                        </div>
                    </div>

                    <div class="notification-drawer" id="notificationDrawer">
                        <div class="shortcut-icons">
                            <button title="Alarme">⏰</button>
                            <button title="Mensagens">📬</button>
                            <button title="Configurações">⚙️</button>
                            <button title="Volume">🔊</button>
                            <button title="Pesquisa">🔎</button>
                        </div>
                        
                            <div class="video-list-container" id="notificationList">
                            </div>

                            <div class="drawer-handle-container">
                                <button id="closeDrawerHandle" class="close-drawer-handle">⏏︎</button>
                            </div>
                    </div>
                    <div class="phone-content" id="phoneContent">

                        <div id="wallpaperScreen" class="content-screen">
                            <div id="wallpaper-app" class="wallpaper-app">
                                <div class="wallpaper-header">
                                    <button id="wallpaperBackBtn" class="back-btn">←</button>
                                    <h2>Papéis de Parede</h2>
                                </div>
                              
                                <div class="wallpaper-gallery" id="wallpaper-gallery">
                                    </div>
                            </div>
                        </div>


                        <div id="calculatorScreen" class="content-screen">
                        <div id="calc-container">
                            <div class="calc-display" id="calc-display">0</div>
                            <div class="calc-buttons">
                                <button class="btn clear" data-action="clear">C</button>
                                <button class="btn" data-action="divide">÷</button>
                                <button class="btn" data-action="multiply">×</button>
                                <button class="btn" data-action="delete">⌫</button>

                                <button class="btn" data-value="7">7</button>
                                <button class="btn" data-value="8">8</button>
                                <button class="btn" data-value="9">9</button>
                                <button class="btn" data-action="subtract">−</button>

                                <button class="btn" data-value="4">4</button>
                                <button class="btn" data-value="5">5</button>
                                <button class="btn" data-value="6">6</button>
                                <button class="btn" data-action="add">+</button>

                                <button class="btn" data-value="1">1</button>
                                <button class="btn" data-value="2">2</button>
                                <button class="btn" data-value="3">3</button>
                                <button class="btn equal" data-action="equals">=</button>

                                <button class="btn zero" data-value="0">0</button>
                                <button class="btn" data-value=".">.</button>
                            </div>
                        </div>
                        </div>
                        <div id="videoScreen" class="content-screen active-screen">

                            <video id="video" width="100%" height="100%" controls>
                                <source src="bemVindo.mp4" type="video/mp4">
                                Seu navegador não suporta o elemento de vídeo.
                            </video>
                        </div>

                        <div id="menuScreen" class="content-screen">
                            <div class="phone-menu">
                                <div class="app-icon" id="app-tutoriais">
                                    🎓
                                    <div class="app-label">Tutoriais</div>
                                </div>
                                <div class="app-icon" id="app-funcionalidades">
                                    ⚙️
                                    <div class="app-label">Config.</div>
                                </div>
                                <div class="app-icon" id="app-suporte">
                                    💬
                                    <div class="app-label">Suporte</div>
                                </div>
                                <div class="app-icon" id="app-outros">
                                    📧
                                    <div class="app-label">Mensagens</div>
                                </div>
                                <div class="app-icon" id="app-calculadora">
                                    📟 
                                    <div class="app-label">Calculadora</div>
                                </div>
                                <div class="app-icon" id="app-wallpaper">
                                    🏞️
                                    <div class="app-label">Wallpapers</div>
                                </div>
                                <div class="app-icon" id="app-suporte">
                                    🎞️
                                    <div class="app-label">Suporte</div>
                                </div>
                                <div class="app-icon" id="app-outros">
                                    📰
                                    <div class="app-label">Mensagens</div>
                                </div>
                                <div class="app-icon" id="app-tutoriais">
                                    ⏰
                                    <div class="app-label">Tutoriais</div>
                                </div>
                                <div class="app-icon" id="app-funcionalidades">
                                    📒
                                    <div class="app-label">Config.</div>
                                </div>
                                <div class="app-icon" id="app-suporte">
                                    📅
                                    <div class="app-label">Suporte</div>
                                </div>
                                <div class="app-icon" id="app-outros">
                                    🗂️
                                    <div class="app-label">Mensagens</div>
                                </div>
                                <div class="app-icon" id="app-tutoriais">
                                    📬
                                    <div class="app-label">Tutoriais</div>
                                </div>
                                <div class="app-icon" id="app-funcionalidades">
                                    📚
                                    <div class="app-label">Config.</div>
                                </div>
                                <div class="app-icon" id="app-suporte">
                                    👪
                                    <div class="app-label">Suporte</div>
                                </div>
                                <div class="app-icon" id="app-outros">
                                    🚪
                                    <div class="app-label">Mensagens</div>
                                </div>
                                <div class="app-icon" id="app-tutoriais">
                                    🗑️
                                    <div class="app-label">Tutoriais</div>
                                </div>
                                <div class="app-icon" id="app-funcionalidades">
                                    🗃️
                                    <div class="app-label">Config.</div>
                                </div>
                                <div class="app-icon" id="app-suporte">
                                    💡
                                    <div class="app-label">Suporte</div>
                                </div>
                                <div class="app-icon" id="app-outros">
                                    💸
                                    <div class="app-label">Mensagens</div>
                                </div>
                            </div>
                            </div>
                    </div>
                    
                    <div class="nav-bar">
                        <button class="recent-apps-btn" onclick="simularAcao('recentes')">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <rect x="5" y="5" width="14" height="14" rx="2" stroke="#555" stroke-width="2"/>
                            </svg>
                        </button>
                        
                        <button id="homeBtn" class="home-btn"></button>
                        
                        <button class="back-btn" onclick="simularAcao('voltar')">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M15 18L9 12L15 6" stroke="#555" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                    </div>

                </div>
            </div>

        </div>
    </div>

    <script>
        
        // Elementos do DOM
        const modal = document.getElementById("phoneModal");
        const openBtn = document.getElementById("btn-ajuda");
        const videoElement = document.getElementById("video");
        const homeBtn = document.getElementById("homeBtn");
        
        // 🆕 Elementos da Janela Deslizante
        const statusBar = document.getElementById("statusBar");
        const notificationDrawer = document.getElementById("notificationDrawer");
        // 🆕 Novo elemento para a lista de notificações
        const notificationList = document.getElementById("notificationList");

        // 🆕 Novo elemento DOM para a hora:
        const currentTimeElement = document.getElementById("currentTime");
        
        // =========================================================
        // 🆕 4. FUNÇÃO DE ATUALIZAÇÃO DO RELÓGIO EM TEMPO REAL
        // =========================================================
    
        function updateTime() {
            const now = new Date();
            
            // Formata a hora (HH:MM) garantindo que tenha dois dígitos (ex: 09:05)
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            
            const timeString = `${hours}:${minutes}`;
            
            // Atualiza o elemento no DOM
            if (currentTimeElement) {
                currentTimeElement.textContent = timeString;
            }
        }
    
        // Chama a função uma vez imediatamente para mostrar a hora correta ao carregar
        updateTime();
    
        // Configura para atualizar a cada 60 segundos (60000 milissegundos)
        // O relógio se manterá preciso sem sobrecarregar o navegador.
        setInterval(updateTime, 60000); 
    
        // =========================================================

        // =========================================================
        // 🆕 1. DADOS DE NOTIFICAÇÕES (Simulando o backend)
        // =========================================================
        const systemNotifications = [
            {
                type: 'alarm',
                icon: '⏰',
                title: 'Alarme Perdido',
                detail: 'O alarme das 07:00 foi ignorado.',
                statusIcon: '⏰' // Ícone a ser mostrado na Status Bar
            },
            {
                type: 'message',
                icon: '📬',
                title: 'Nova Mensagem Importante',
                detail: 'Você tem 2 novas mensagens do Admin.',
                statusIcon: '📬'
            },
            {
                type: 'calendar',
                icon: '📆',
                title: 'Aniversário',
                detail: 'Amanhã é o aniversário do Alison!',
                statusIcon: '📆'
            },
            
            // Você pode adicionar mais notificações aqui
        ];
        
        // =========================================================
        // 🆕 2. DADOS DOS VÍDEOS (Conteúdo estático que virá após as notificações)
        // =========================================================
        const youtubeVideos = [
            {
                title: 'Título do Vídeo Principal',
                detail: 'Novo Conteúdo: Assista agora!',
                link: 'https://www.youtube.com/watch?v=31vJkPQCcwE',
                thumb: 'https://img.youtube.com/vi/31vJkPQCcwE/hqdefault.jpg'
            },
            {
                title: 'Tutorial Rápido de HTML e CSS',
                detail: 'Há 2 horas - 5,4k visualizações',
                link: 'https://www.youtube.com/watch?v=31vJkPQCcwE',
                thumb: 'https://img.youtube.com/vi/31vJkPQCcwE/hqdefault.jpg'
            },
            {
                title: 'Tutorial Rápido de HTML e CSS',
                detail: 'Há 2 horas - 5,4k visualizações',
                link: 'https://www.youtube.com/watch?v=31vJkPQCcwE',
                thumb: 'https://img.youtube.com/vi/31vJkPQCcwE/hqdefault.jpg'
            },
            {
                title: 'Tutorial Rápido de HTML e CSS',
                detail: 'Há 2 horas - 5,4k visualizações',
                link: 'https://www.youtube.com/watch?v=31vJkPQCcwE',
                thumb: 'https://img.youtube.com/vi/31vJkPQCcwE/hqdefault.jpg'
            },
            {
                title: 'Tutorial Rápido de HTML e CSS',
                detail: 'Há 2 horas - 5,4k visualizações',
                link: 'https://www.youtube.com/watch?v=31vJkPQCcwE',
                thumb: 'https://img.youtube.com/vi/31vJkPQCcwE/hqdefault.jpg'
            },
            // Adicione mais vídeos aqui
        ];
        // ⚠️ ATENÇÃO: Se o wallpaper foi salvo, aplique-o ao carregar o sistema!
        
        
        // =========================================================
        // 🆕 3. FUNÇÃO DE RENDERIZAÇÃO PRINCIPAL
        // =========================================================
        function renderNotifications() {
            // A. Atualiza a Barra de Status (Apenas os ícones de status)
            const statusIconsDiv = statusBar.querySelector('.icons');
            
            // Mantém a hora e os ícones de sinal/bateria no status bar
            let currentIcons = `
                ${systemNotifications.map(n => n.statusIcon).join('')}
                <span class="signal">🔋📶</span>
            `;
            // Encontra e atualiza a parte dos ícones, mantendo a hora intacta
            statusIconsDiv.innerHTML = currentIcons;


            // B. Cria a Lista Detalhada na Gaveta
            notificationList.innerHTML = ''; // Limpa a lista antes de adicionar novos itens

            // Função auxiliar para criar um item de notificação/vídeo
            const createListItem = (icon, title, detail, link, thumb) => {
                const isVideo = link && thumb;
                
                const itemHTML = `
                    <a href="${link || '#'}" target="${link ? '_blank' : '_self'}" class="video-item ${!isVideo ? 'notification-item' : ''}">
                        ${isVideo ? 
                            // Se for vídeo, usa a thumbnail
                            `<div class="video-thumbnail">
                                <img src="${thumb}" alt="Thumbnail ${title}">
                            </div>` :
                            // Se for notificação, usa um círculo com o emoji
                            `<div class="video-thumbnail notification-icon-circle">
                                ${icon}
                            </div>`
                        }
                        <div class="video-info">
                            <strong>${title}</strong>
                            <span>${detail}</span>
                        </div>
                    </a>
                `;
                return itemHTML;
            };

            // 3.1 Adiciona Notificações do Sistema
            systemNotifications.forEach(n => {
                const item = createListItem(n.icon, n.title, n.detail);
                notificationList.innerHTML += item;
            });
            
            // 3.2 Adiciona a Lista de Vídeos (Conteúdo de rodapé)
            youtubeVideos.forEach(v => {
                const item = createListItem(null, v.title, v.detail, v.link, v.thumb);
                notificationList.innerHTML += item;
            });

        }

        // Chama a função ao carregar o script para popular o mockup
        renderNotifications();
        const phoneContent = document.getElementById("phoneContent");
        
        // 🔊 Soms de interação (mantidos, mas comentados para o exemplo)
        const SoundManager = {
            play: (file) => {
                // console.log("Som de " + file + " tocado.");
            }
        };

        // 🆕 Elemento do Botão de Fechar a Gaveta
        const closeDrawerHandle = document.getElementById("closeDrawerHandle");

        // 🆕 Novos elementos para o gerenciamento de telas
        const videoScreen = document.getElementById("videoScreen");
        const menuScreen = document.getElementById("menuScreen");
        
            // 🆕 Novo elemento da Calculadora
        const calculatorScreen = document.getElementById("calculatorScreen");
        let calculatorInitialized = false; // Flag para inicializar apenas uma vez

        // =========================================================
        // 🆕 LÓGICA DA CALCULADORA (Envolvida em uma função)
        // =========================================================

        function initializeCalculator() {
            if (calculatorInitialized) return;

            const display = document.getElementById('calc-display');
            let current = '';
            let previous = '';
            let operator = '';

            function updateDisplay(value) {
                display.textContent = String(value).substring(0, 12) || '0';
            }

            document.querySelectorAll('#calculatorScreen .btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    SoundManager.play("./tone.mp3", true); // Adicionando som ao clique
                    const value = btn.dataset.value;
                    const action = btn.dataset.action;

                    if (value) {
                        // Impede múltiplos pontos decimais
                        if (value === '.' && current.includes('.')) return;
                        if (current.length < 12) current += value;
                        updateDisplay(current);

                    } else if (action) {
                        switch (action) {
                            case 'clear':
                                current = ''; previous = ''; operator = '';
                                updateDisplay('0');
                                break;
                            case 'delete':
                                current = current.slice(0, -1);
                                updateDisplay(current);
                                break;
                            case 'add':
                            case 'subtract':
                            case 'multiply':
                            case 'divide':
                                if (current || previous) {
                                    // Se já tiver um número, move ele para previous
                                    if (current && !previous) {
                                         previous = current;
                                         current = '';
                                    }
                                    operator = action;
                                    updateDisplay(current || '0');
                                }
                                break;
                            case 'equals':
                                if (previous && current && operator) {
                                    const a = parseFloat(previous);
                                    const b = parseFloat(current);
                                    let result = 0;

                                    switch (operator) {
                                        case 'add': result = a + b; break;
                                        case 'subtract': result = a - b; break;
                                        case 'multiply': result = a * b; break;
                                        case 'divide': result = b !== 0 ? a / b : 'Erro';
                                    }

                                    updateDisplay(result);
                                    current = String(result);
                                    previous = '';
                                    operator = '';
                                }
                                break;
                        }
                    }
                });
            });
            calculatorInitialized = true;
        }


        // =========================================================
        // CONEXÃO DOS ÍCONES COM AS TELAS
        // =========================================================

        // 🆕 Ação para o Ícone da Calculadora
        document.getElementById("app-calculadora").onclick = () => {
            changeScreen('calculatorScreen');
            initializeCalculator(); // Inicializa o JS da calculadora apenas na primeira vez
        };
        // 🆕 Novos elementos do Wallpaper App
        const wallpaperScreen = document.getElementById("wallpaperScreen");
        const wallpaperGallery = document.getElementById("wallpaper-gallery");
        const wallpaperBackBtn = document.getElementById("wallpaperBackBtn");
        
        
        
        
       // ⚠️ REMOÇÃO: A variável DEFAULT_WALLPAPER_URL e wallpaperData serão definidas DENTRO da função.
        // ⚠️ REMOÇÃO: A lógica de aplicação inicial (fora da função) será simplificada para um placeholder temporário
        
        let wallpaperInitialized = false;
        
       
        // =========================================================
        // 🆕 LÓGICA DO APP DE WALLPAPER (Com Fetch)
        // =========================================================

        function applyWallpaper(url, container) {
            // ... (Sua lógica existente para aplicar e salvar) ...
            menuScreen.style.backgroundImage = `url('${url}')`;
            localStorage.setItem('selectedWallpaper', url);

            document.querySelectorAll('#wallpaperScreen .wallpaper-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            container.classList.add('selected');
        }

        // Função para inicializar o App de Wallpaper com o carregamento dinâmico
        async function initializeWallpaperApp() {
            if (wallpaperInitialized) return;

            wallpaperGallery.innerHTML = '<p style="color:white; text-align:center;">Carregando wallpapers...</p>';
            
            // 1. Tenta buscar o JSON local
            try {
                const response = await fetch('wallpapers/index.json');
                if (!response.ok) {
                    throw new Error(`Erro ao carregar o JSON: ${response.statusText}`);
                }
                const imageNames = await response.json();

                // 2. Define o papel de parede padrão (o primeiro da lista)
                const DEFAULT_WALLPAPER_URL = `wallpapers/${imageNames[0]}`;
                const savedUrl = localStorage.getItem('selectedWallpaper');
                const initialUrl = savedUrl || DEFAULT_WALLPAPER_URL;

                // Limpa a mensagem de carregamento
                wallpaperGallery.innerHTML = '';
                
                // 3. Aplica o wallpaper inicial ao menu
                menuScreen.style.backgroundImage = `url('${initialUrl}')`;
                menuScreen.style.backgroundSize = 'cover';
                menuScreen.style.backgroundPosition = 'center';
                menuScreen.style.backgroundRepeat = 'no-repeat';


                // 4. Cria os elementos da galeria
                imageNames.forEach(name => {
                    // A URL completa é: 'wallpapers/' + nome_do_arquivo
                    const imageUrl = `wallpapers/${name}`; 
                    
                    const container = document.createElement('div');
                    container.className = 'wallpaper-option';

                    const thumb = document.createElement('img');
                    thumb.src = imageUrl;
                    thumb.dataset.wallUrl = imageUrl;
                    thumb.alt = name;
                    
                    // Marca como selecionado se for a imagem inicial
                    if (initialUrl === imageUrl) {
                        container.classList.add('selected');
                    }

                    container.appendChild(thumb);
                    wallpaperGallery.appendChild(container);

                    // Clique no container para aplicar
                    container.addEventListener('click', () => {
                        SoundManager.play("./tone.mp3", true);
                        applyWallpaper(imageUrl, container);
                    });
                });

            } catch (error) {
                console.error('Falha ao inicializar o Wallpaper App:', error);
                wallpaperGallery.innerHTML = `<p style="color:red; text-align:center;">Erro: Não foi possível carregar os wallpapers. Verifique a pasta "wallpapers/index.json".</p>`;
            }
            
            // Ação do Botão de Voltar no Header
            const wallpaperBackBtn = document.getElementById("wallpaperBackBtn");
            wallpaperBackBtn.onclick = () => {
                changeScreen('menuScreen');
                SoundManager.play("./tone.mp3", true);
            };
            
            wallpaperInitialized = true;
        }
        
        // =========================================================
        // CONEXÃO DOS ÍCONES E LÓGICA DE CARREGAMENTO INICIAL
        // =========================================================

        // 🆕 Ação para o Ícone da Calculadora
        document.getElementById("app-wallpaper").onclick = () => {
            changeScreen('wallpaperScreen');
            // Inicializa o app de wallpaper e carrega os dados
            initializeWallpaperApp(); 
        };
        
        // ⚠️ CHAMA A FUNÇÃO DE WALLPAPER NA INICIALIZAÇÃO DO MOCKUP
        // Se não for inicializada aqui, a tela de menu ficaria sem papel de parede
        // até o usuário abrir o app!
        initializeWallpaperApp();


        document.getElementById("app-tutoriais").onclick = () => {
            SoundManager.play("./tone.mp3", true);
            alert("🎓 Acessando tela de Tutoriais...");
            // changeScreen('tutoriaisScreen');
        };

        // 🆕 Função central para alternar entre as telas
        function changeScreen(screenId) {
            const screens = phoneContent.querySelectorAll('.content-screen');
            screens.forEach(screen => {
                screen.classList.remove('active-screen');
            });

            const targetScreen = document.getElementById(screenId);
            if (targetScreen) {
                targetScreen.classList.add('active-screen');

                // Pausa ou toca o vídeo conforme a tela
                if (screenId === 'videoScreen') {
                    videoElement.play();
                } else {
                    videoElement.pause();
                }
            }
            // Garante que a gaveta feche ao mudar de tela
            notificationDrawer.classList.remove('open');
        }
        window.changeScreen = changeScreen; // Torna a função acessível globalmente

        // 🆕 Ação principal do botão HOME (navegação)
        homeBtn.onclick = function() {
            if (notificationDrawer.classList.contains('open')) {
                // Se a gaveta estiver aberta, fecha a gaveta
                closeDrawer();
            } else if (menuScreen.classList.contains('active-screen')) {
                // Se estiver no menu de apps, volta para o vídeo (tela inicial)
                changeScreen('videoScreen');
                SoundManager.play("./tone.mp3", true);
            } else {
                // Se estiver no vídeo, fecha o modal
                closeModal();
            }
        };

        // 🆕 4. Ações dos Ícones de Aplicativos
        document.getElementById("app-tutoriais").onclick = () => {
            SoundManager.play("./tone.mp3", true);
            alert("🎓 Acessando tela de Tutoriais...");
            // Futuramente, você pode mudar para changeScreen('tutoriaisScreen');
        };
        
        document.getElementById("app-funcionalidades").onclick = () => {
            SoundManager.play("./tone.mp3", true);
            alert("⚙️ Abrindo Configurações...");
            // Futuramente, você pode mudar para changeScreen('configScreen');
        };
        
        document.getElementById("app-suporte").onclick = () => {
            SoundManager.play("./tone.mp3", true);
            alert("💬 Abrindo Chat de Suporte...");
        };

        document.getElementById("app-outros").onclick = () => {
            SoundManager.play("./tone.mp3", true);
            alert("📧 Visualizando mensagens...");
        };
        
        // 🆕 O botão da barra de navegação inferior 'Recentes' (Quadrado) agora abre o menu de ícones
        document.querySelector('.recent-apps-btn').onclick = () => {
            changeScreen('menuScreen');
            SoundManager.play("./tone.mp3", true);
        };

        // Função para fechar o modal
        const closeModal = function() {
            modal.style.display = "none";
            videoElement.pause();
            videoElement.currentTime = 0; 
            notificationDrawer.classList.remove('open'); // Garante que o menu feche junto
            SoundManager.play("./enot.mp3");
        }

        // Função para abrir o modal
        openBtn.onclick = function() {
            modal.style.display = "flex";
            videoElement.play();
            SoundManager.play("./tone.mp3");
        }
        // 🆕 Nova função para fechar SÓ a gaveta de notificações
        const closeDrawer = function() {
            notificationDrawer.classList.remove('open');
        }


        // Ação do botão HOME para fechar o modal
        homeBtn.onclick = closeModal;

        // 🆕 Ação do novo botão de "ejetar" para fechar a gaveta
        closeDrawerHandle.onclick = closeDrawer;

        // 🆕 FUNÇÃO DE TOGGLE PARA A JANELA DESLIZANTE
        statusBar.onclick = function(event) {
            // Se o clique for na barra de status, alterna a classe 'open'
            if (event.target.closest('.status-bar')) {
                notificationDrawer.classList.toggle('open');
                event.stopPropagation(); // Impede que o clique chegue na window.onclick
            }
        }
        
        // Ação de fechar o menu ao clicar no conteúdo do mockup
        phoneContent.onclick = function() {
             notificationDrawer.classList.remove('open');
        };


        // Função de simulação para os botões de navegação
        function simularAcao(acao) {
            console.log("Ação simulada: " + acao);
            // Fecha a gaveta de notificação ao realizar outra ação
            notificationDrawer.classList.remove('open');
            if (acao === 'voltar') {
                alert("Simulação: Voltar na navegação do mockup.");
            } else if (acao === 'recentes') {
                alert("Simulação: Apps recentes.");
            }
            closeDrawer(); 
            if (acao === 'voltar') {
                // Se a tela atual NÃO for o vídeo, volta para o vídeo. Senão, simula a ação.
                if (!videoScreen.classList.contains('active-screen')) {
                     changeScreen('videoScreen');
                } else {
                     alert("Simulação: Voltar na navegação do mockup.");
                }
            } else if (acao === 'recentes') {
                 // O botão recente agora abre o menu de aplicativos (ver acima)
                 changeScreen('menuScreen');
            }
        }
        window.simularAcao = simularAcao;


        // Função para fechar o modal se o usuário clicar fora do conteúdo (no overlay)
        window.onclick = function(event) {
            if (event.target == modal) {
                closeModal();
            }
            // Garante que o menu de notificação feche se o usuário clicar em qualquer lugar fora do menu e fora do modal
            if (!event.target.closest('.notification-drawer') && !event.target.closest('.status-bar')) {
                 notificationDrawer.classList.remove('open');
            }
        }
        
    </script>
</body>

</html>



